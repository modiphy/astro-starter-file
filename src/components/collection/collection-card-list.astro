---
import { SectionButtonCard } from '@/shared'

const { items } = Astro.props

let count = 0
---

{
  items.length > 0 && (
    <div class="relative mt-5 lg:mt-0">
      <div class="absolute bottom-[5%] right-1/3 top-[5%] hidden w-[5000px] bg-secondary-100 bg-gradient-to-l from-secondary-100 to-secondary-50 lg:block">
        <div class="pattern-secondary-light absolute inset-0" />
      </div>

      <div class="relative z-1 grid gap-3 md:mt-7 lg:mt-0 lg:flex">
        {items?.map((_: any, i: number) => {
          const elements = []
          let x = 0

          if (count < items.length) {
            do {
              elements.push(
                <SectionButtonCard
                  data={items[count]}
                  className="group aspect-h-1 aspect-w-4 w-full overflow-hidden rounded-lg md:aspect-w-6 lg:aspect-h-2 lg:aspect-w-3"
                />
              )

              x++
              count++
            } while (x <= i)

            return (
              <div class="flex w-full flex-col items-start space-y-3 lg:justify-center">
                {elements}
              </div>
            )
          }
        })}
      </div>
    </div>
  )
}
