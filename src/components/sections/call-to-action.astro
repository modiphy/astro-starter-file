---
import { SectionLayout } from '@/components/layouts'
import { Img, SectionTitles, SectionBodies, ButtonText } from '@/shared'

import PageSectionFieldsModel from '@/models/page-section-fields-model'

const { fields }: any = Astro.props

const fieldsModel = new PageSectionFieldsModel(fields)
// options for default classes and styles
const sectionOptions = {
  ...fieldsModel.sectionOptions,
  customClass: 'pb-6'
}

const titleOptions = {
  ...fieldsModel.titleOptions,
  titleSize: 'text-4xl md:text-6xl',
  titleClass: 'max-w-5xl font-heading text-white text-left mt-1',
  subtitleSize: 'text-xl md:text-2xl',
  subtitleClass: 'font-normal uppercase tracking-wide text-primary-300 text-left'
}
const bodyOptions = {
  ...fieldsModel.bodyOptions,
  bodySize: 'prose',
  bodyClass: 'mt-6 text-base leading-7 text-gray-300',
  extraBodySize: 'prose',
  extraBodyClass: 'mt-6 text-base leading-7 text-gray-300'
}
---

<SectionLayout sectionOptions={sectionOptions}>
  <div class="relative z-100 bg-primary">
    <div
      class="bg-indigo-600 relative overflow-hidden md:absolute md:left-0 md:h-full md:w-1/3 lg:w-1/2"
    >
      <Img image={fieldsModel.image} imageClass="h-full w-full object-cover" />
      <svg
        viewBox="0 0 926 676"
        aria-hidden="true"
        class="absolute -bottom-24 left-24 w-[57.875rem] transform-gpu blur-[118px]"
      >
        <path
          fill="url(#60c3c621-93e0-4a09-a0e6-4c228a0116d8)"
          fill-opacity=".4"
          d="m254.325 516.708-90.89 158.331L0 436.427l254.325 80.281 163.691-285.15c1.048 131.759 36.144 345.144 168.149 144.613C751.171 125.508 707.17-93.823 826.603 41.15c95.546 107.978 104.766 294.048 97.432 373.585L685.481 297.694l16.974 360.474-448.13-141.46Z"
        ></path>
        <defs>
          <linearGradient
            id="60c3c621-93e0-4a09-a0e6-4c228a0116d8"
            x1="926.392"
            x2="-109.635"
            y1=".176"
            y2="321.024"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#776FFF"></stop>
            <stop offset="1" stop-color="#FF4694"></stop>
          </linearGradient>
        </defs>
      </svg>
    </div>
    <div
      class="relative mx-auto max-w-7xl py-24 sm:py-32 md:min-h-[700px] lg:px-0 lg:py-24 xl:py-48"
    >
      <div class="pl-6 pr-6 md:ml-auto md:w-2/3 md:pl-6 lg:w-1/2 lg:pl-12">
        <SectionTitles fields={fieldsModel} titleOptions={titleOptions} />

        <SectionBodies fields={fieldsModel} bodyOptions={bodyOptions} />

        {
          fieldsModel.button && (
            <div class="mt-8 flex space-y-2">
              <ButtonText
                buttonClass="button border-primary-300 text-white hover:border-white text-base"
                button={{ ...fieldsModel.button, buttonPageLink: fieldsModel.buttonPageLink }}
              >
                {fieldsModel.button.text}
              </ButtonText>
            </div>
          )
        }
      </div>
    </div>
  </div>
</SectionLayout>
